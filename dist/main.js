!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i){var a=e.name,s=e.link,u=e.likes,c=e._id,l=e.owner;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._text=a,this._link=s,this._likes=u.length,this._cardId=c,this._ownerId=l._id,this._selector=n,this._element=null,this._handleCardClick=r,this._handleBinClick=o,this._handleLike=i}var n,r;return n=t,(r=[{key:"_updatePageLikes",value:function(){return this._likeBtn.classList.contains("cards__like-button_active")?(this._likeBtn.classList.remove("cards__like-button_active"),!1):(this._likeBtn.classList.add("cards__like-button_active"),!0)}},{key:"_enlargePhoto",value:function(e){this._handleCardClick(e)}},{key:"_setEventListeners",value:function(){var e=this;this._likeBtn.addEventListener("click",(function(){var t=e._updatePageLikes();e._handleLike(e._cardId,t).then((function(t){e._likeCount.textContent=t.likes.length,console.log("Updated likes successfully")})).catch((function(){console.log("Unable to update likes")}))})),this._photo.addEventListener("click",(function(t){return e._enlargePhoto(e._photo)}))}},{key:"_getTemplate",value:function(){return document.querySelector("".concat(this._selector)).content.querySelector(".cards__item").cloneNode(!0)}},{key:"_getBinTemplate",value:function(){return document.querySelector("#binTemplate").content.querySelector(".cards__close-button").cloneNode(!0)}},{key:"_setBinListener",value:function(){var e=this;this._binIcon.addEventListener("click",(function(t){return e._handleBinClick(t)}))}},{key:"_addBin",value:function(){this._element.prepend(this._binIcon)}},{key:"getCard",value:function(e){return this._element=this._getTemplate(),e===this._ownerId&&(this._binIcon=this._getBinTemplate(),this._setBinListener(),this._addBin()),this._photo=this._element.querySelector(".cards__photo"),this._photoName=this._element.querySelector(".cards__name"),this._likeBtn=this._element.querySelector(".cards__like-button"),this._likeCount=this._element.querySelector(".cards__like-count"),this._setEventListeners(),this._element.id=this._cardId,this._photo.src=this._link,this._photo.alt=this._text,this._photoName.textContent=this._text,this._likeCount.textContent=this._likes,this._element}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n,this._submit=this._form.querySelector(this._submitButtonSelector)}var t,r;return t=e,(r=[{key:"_disableButton",value:function(){this._submit.classList.add(this._inactiveButtonClass),this._submit.setAttribute("disabled",!0)}},{key:"_toggleButton",value:function(){this._allInputs.every((function(e){return!0===e.validity.valid}))?(this._submit.classList.remove(this._inactiveButtonClass),this._submit.removeAttribute("disabled",!1)):this._disableButton()}},{key:"_showError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error")),n=e.validationMessage;e.classList.add(this._inputErrorClass),t.textContent=n,t.classList.add(this._errorClass)}},{key:"_hideError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_checkValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_setListeners",value:function(e){var t=this;e.addEventListener("input",(function(){t._checkValidity(e),t._toggleButton()}))}},{key:"resetValidation",value:function(){var e=this;this._disableButton(),this._allInputs.forEach((function(t){e._hideError(t)}))}},{key:"enableValidation",value:function(){var e=this;this._allInputs=Array.from(this._form.querySelectorAll(this._inputSelector)),this._allInputs.forEach((function(t){e._setListeners(t)}))}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector("".concat(n))}var t,n;return t=e,(n=[{key:"renderElements",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_active"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_active"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target.classList.contains("popup__close")||t.target.classList.contains("popup_active"))&&e.close()}))}}])&&a(t.prototype,n),e}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._imgElement=t._popup.querySelector(".popup__image"),t._imgCaption=t._popup.querySelector(".popup__caption"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._imgElement.src=t,this._imgElement.alt=n,this._imgCaption.textContent=n,l(p(a.prototype),"open",this).call(this)}}])&&c(t.prototype,n),a}(s);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e,t){var n,r=e.formSelector,o=e.formSubmission;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._form=n._popup.querySelector(r),n._handleFormSubmission=o,n._inputList=n._form.querySelectorAll(".popup__input"),n._btn=n._form.querySelector(".popup__submit"),n._originalMsg=n._btn.textContent,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setInputs",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"saveMessage",value:function(e){this._btn.textContent=e?"Saving...":this._originalMsg}},{key:"setEventListeners",value:function(){var e=this;this._submitFunction=function(t){e.saveMessage(!0),t.preventDefault(),e._handleFormSubmission(e._getInputValues())},v(g(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._submitFunction)}},{key:"close",value:function(){this._form.reset(),v(g(a.prototype),"close",this).call(this)}}])&&y(t.prototype,n),a}(s);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._profile=null}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._profile={name:this._name.textContent,about:this._about.textContent},this._profile}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;this._name.textContent=t,this._about.textContent=n}}])&&S(t.prototype,n),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._auth=t.headers.authorization,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject()}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._auth}}).then((function(t){return e._handleResponse(t)}))}},{key:"getCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._auth}}).then((function(t){return e._handleResponse(t)}))}},{key:"updateProfile",value:function(e){var t=this,n=e.name,r=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._auth,"Content-Type":"application/json"},body:JSON.stringify({name:n,about:r})}).then((function(e){return t._handleResponse(e)}))}},{key:"addCard",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._auth,"Content-Type":"application/json"},body:JSON.stringify({name:e,link:t})}).then((function(e){return n._handleResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._auth}}).then((function(e){return t._handleResponse(e)}))}},{key:"addLike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._auth}}).then((function(e){return t._handleResponse(e)}))}},{key:"removeLike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._auth}}).then((function(e){return t._handleResponse(e)}))}},{key:"updateProfilePic",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._auth,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return t._handleResponse(e)}))}}])&&w(t.prototype,n),e}(),L=document.querySelector("#profile-popup"),P=document.querySelector("#place-popup"),O=document.querySelector("#profile-pic"),j=document.querySelector(".profile__add-button"),I=document.querySelector(".profile__edit-button"),B=document.querySelector(".profile__avatar-btn"),T=document.querySelector(".profile__avatar"),q={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=null,x=null,V=null,A=function(e,n,r,o,i){return new t(e,n,r,o,i)},z=function(e,t){return t?te.addLike(e):te.removeLike(e)},M=function(e){var t={name:e.alt,link:e.src};Y.open(t)},N={formSelector:"#profile-pic",formSubmission:function(e){var t=e.pic;te.updateProfilePic(t).then((function(e){console.log("Profile pic updated on the server"),X.close(),T.style.backgroundImage="url(".concat(t,")")})).catch((function(e){console.log(e)})).finally((function(){X.saveMessage(!1)}))}},D={formSelector:"#profile-popup",formSubmission:function(e){var t=e.name,n=e.about;te.updateProfile(Q.getUserInfo()).then((function(e){Q.setUserInfo({name:t,about:n}),console.log("The profile has been updated.")})).catch((function(e){console.log(e)})).finally((function(){W.saveMessage(!1),W.close()}))}},F={formSelector:"#place-popup",formSubmission:function(e){var t=e.title,n=e.link;te.addCard(t,n).then((function(e){var t=A(e,"#cardTemplate",M,H,z);x.addItem(t.getCard(V)),console.log("New card was added")})).catch((function(e){console.log(e)})).finally((function(){Z.saveMessage(!1),Z.close()}))}},J={formSelector:"#confirm-form",formSubmission:function(){te.deleteCard(U.id).then((function(e){ee.close(),U.remove(),console.log("Card deleted from server")})).catch((function(e){console.log(e)})).finally((function(){ee.saveMessage(!1),ee.close()}))}},H=function(e){U=e.target.parentElement,ee.open()},$=new r(q,L),G=new r(q,P),K=new r(q,O),Q=new E({nameSelector:".profile__name",aboutSelector:".profile__about"}),W=new k(D,"#editProfile"),X=new k(N,"#profilePicPopup"),Y=new _("#photo"),Z=new k(F,"#newPlace"),ee=new k(J,"#confirmPopup"),te=new C({baseUrl:"https://around.nomoreparties.co/v1/group-10",headers:{authorization:"2a32e80d-c23f-4ed9-9cf5-671c417d0702","Content-Type":"application/json"}});Promise.all([te.getUserInfo(),te.getCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];Q.setUserInfo(o),V=o._id,T.style.backgroundImage="url(".concat(o.avatar,")");var s={items:a,renderer:function(e){var t=A(e,"#cardTemplate",M,H,z);x.addItem(t.getCard(V))}};(x=new i(s,".cards")).renderElements()})).catch((function(e){console.log(e)})),W.setEventListeners(),Z.setEventListeners(),Y.setEventListeners(),X.setEventListeners(),ee.setEventListeners(),$.enableValidation(),G.enableValidation(),K.enableValidation(),B.addEventListener("click",(function(){K.resetValidation(),X.open()})),I.addEventListener("click",(function(){$.resetValidation(),W.setInputs(Q.getUserInfo()),W.open()})),j.addEventListener("click",(function(){G.resetValidation(),Z.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPNkcsRUFDUDVHLFNBQVUsU0FBQ0ksR0FDVCxJQUFNMEcsRUFBVTNDLEVBQVcvRCxFQUFNLGdCQUFpQmxHLEVBQWlCQyxFQUFnQkMsR0FDbkY4SixFQUFNNkIsUUFBUWUsRUFBUWQsUUFBUWpKLE9BSWxDbUgsRUFBUSxJQUFJcEUsRUFBUStHLEVBQWEsV0FDM0JFLG9CQUVQMUssT0FBTSxTQUFDK0ksR0FDTmpKLFFBQVFDLElBQUlnSixNQUdoQk8sRUFBYXFCLG9CQUNiZixFQUFXZSxvQkFDWHBDLEVBQVdvQyxvQkFDWC9CLEVBQVkrQixvQkFDWlosR0FBWVksb0JBRVpWLEVBQWlCVyxtQkFDakJWLEVBQWtCVSxtQkFDbEJULEVBQWdCUyxtQkFFaEJqRCxFQUFPcEksaUJBQWlCLFNBQVMsV0FDL0I0SyxFQUFnQlUsa0JBQ2hCakMsRUFBWUosVUFHZGQsRUFBUW5JLGlCQUFpQixTQUFTLFdBQ2hDMEssRUFBaUJZLGtCQUNqQnZCLEVBQWF3QixVQUFVM0IsRUFBWUMsZUFDbkNFLEVBQWFkLFVBR2ZmLEVBQU9sSSxpQkFBaUIsU0FBUyxXQUMvQjJLLEVBQWtCVyxrQkFDbEJqQixFQUFXcEIsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGxpbmssIGxpa2VzLCBfaWQsIG93bmVyIH0sIHNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUJpbkNsaWNrLCBoYW5kbGVMaWtlQ2FyZCkge1xuICAgIC8vLCBhZGRMaWtlLCByZW1vdmVMaWtlXG4gICAgdGhpcy5fdGV4dCA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcy5sZW5ndGg7XG4gICAgdGhpcy5fY2FyZElkID0gX2lkO1xuICAgIHRoaXMuX293bmVySWQgPSBvd25lci5faWQ7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlQmluQ2xpY2sgPSBoYW5kbGVCaW5DbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlID0gaGFuZGxlTGlrZUNhcmQ7XG4gIH1cblxuXG4gIFxuICBfdXBkYXRlUGFnZUxpa2VzKCkge1xuICAgIGlmICh0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC5jb250YWlucygnY2FyZHNfX2xpa2UtYnV0dG9uX2FjdGl2ZScpKVxuICAgIHtcbiAgICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2FyZHNfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LmFkZCgnY2FyZHNfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cblxuICBfZW5sYXJnZVBob3RvKGltZykge1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayhpbWcpO1xuICB9XG5cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzTGlrZWQgPSB0aGlzLl91cGRhdGVQYWdlTGlrZXMoKTtcblxuICAgICAgdGhpcy5faGFuZGxlTGlrZSh0aGlzLl9jYXJkSWQsIGlzTGlrZWQpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSByZXMubGlrZXMubGVuZ3RoO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGVkIGxpa2VzIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmFibGUgdG8gdXBkYXRlIGxpa2VzJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcGhvdG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdGhpcy5fZW5sYXJnZVBob3RvKHRoaXMuX3Bob3RvKSk7XG4gIH1cblxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3NlbGVjdG9yfWApLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19pdGVtJykuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcbiAgfVxuXG5cbiAgX2dldEJpblRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGJpblRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JpblRlbXBsYXRlJykuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2Nsb3NlLWJ1dHRvbicpLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBiaW5UZW1wbGF0ZTtcbiAgfVxuXG4gIF9zZXRCaW5MaXN0ZW5lcigpIHtcbiAgICB0aGlzLl9iaW5JY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHRoaXMuX2hhbmRsZUJpbkNsaWNrKGUpKTtcbiAgfVxuXG4gIF9hZGRCaW4oKSB7XG4gICAgdGhpcy5fZWxlbWVudC5wcmVwZW5kKHRoaXMuX2Jpbkljb24pO1xuICB9XG4gIFxuICBnZXRDYXJkKG15SWQpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgIGlmIChteUlkID09PSB0aGlzLl9vd25lcklkKXtcbiAgICAgIHRoaXMuX2Jpbkljb24gPSB0aGlzLl9nZXRCaW5UZW1wbGF0ZSgpO1xuICAgICAgdGhpcy5fc2V0QmluTGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX2FkZEJpbigpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLl9waG90byA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19waG90bycpO1xuICAgIHRoaXMuX3Bob3RvTmFtZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19uYW1lJyk7XG4gICAgdGhpcy5fbGlrZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlLWJ1dHRvbicpO1xuICAgIHRoaXMuX2xpa2VDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlLWNvdW50Jyk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5pZCA9IHRoaXMuX2NhcmRJZDtcbiAgICB0aGlzLl9waG90by5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX3Bob3RvLmFsdCA9IHRoaXMuX3RleHQ7XG4gICAgdGhpcy5fcGhvdG9OYW1lLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dDtcbiAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcztcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtKSB7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gc2V0dGluZ3MuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xuXG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5fc3VibWl0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uKCkge1xuICAgIGNvbnN0IHZhbGlkID0gdGhpcy5fYWxsSW5wdXRzLmV2ZXJ5KGlucHV0ID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkID09PSB0cnVlKTtcblxuICAgIGlmICh2YWxpZCl7XG4gICAgICB0aGlzLl9zdWJtaXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9XG4gIH1cblxuICBfc2hvd0Vycm9yKGlucHV0KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcblxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUVycm9yKGlucHV0KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcblxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja1ZhbGlkaXR5KGlucHV0KSB7XG4gICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKXtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0Vycm9yKGlucHV0KTtcbiAgICB9XG4gIH1cblxuICBfc2V0TGlzdGVuZXJzKGlucHV0KSB7XG5cblxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdGhpcy5fY2hlY2tWYWxpZGl0eShpbnB1dCk7XG4gICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgdGhpcy5fYWxsSW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0KTsgICAvLyBfaGlkRXJyb3IgdGFrZXMgaW5wdXQgJiBlcnJvciBlbGVtZW50LlxuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9hbGxJbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XG5cblxuICAgIHRoaXMuX2FsbElucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIHRoaXMuX3NldExpc3RlbmVycyhpbnB1dCk7XG4gICAgfSk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtzZWxlY3Rvcn1gKTtcbiAgfVxuICByZW5kZXJFbGVtZW50cygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9hY3RpdmUnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG4gIF9oYW5kbGVFc2NDbG9zZShlKSB7XG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyl7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX2FjdGl2ZScpKXtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuXG4gICAgICAgIHRoaXMuX2ltZ0VsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XG4gICAgICAgIHRoaXMuX2ltZ0NhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NhcHRpb24nKTtcbiAgICB9XG4gICAgb3Blbih7IGxpbmssIG5hbWUgfSkge1xuICAgICAgdGhpcy5faW1nRWxlbWVudC5zcmMgPSBsaW5rO1xuICAgICAgdGhpcy5faW1nRWxlbWVudC5hbHQgPSBuYW1lO1xuICAgICAgdGhpcy5faW1nQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICBzdXBlci5vcGVuKCk7XG4gICAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcblxuICAgIGNvbnN0cnVjdG9yKHsgZm9ybVNlbGVjdG9yLCBmb3JtU3VibWlzc2lvbiB9LCBwb3B1cFNlbGVjdG9yKSB7XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3Rvcihmb3JtU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWlzc2lvbiA9IGZvcm1TdWJtaXNzaW9uO1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcbiAgICAgICAgdGhpcy5fYnRuID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdCcpO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbE1zZyA9IHRoaXMuX2J0bi50ZXh0Q29udGVudDtcbiAgICB9XG5cblxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcbiAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSk7XG5cbiAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICAgIH1cblxuXG4gICAgc2V0SW5wdXRzKHZhbHVlc09iaikge1xuICAgICAgXG4gICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlc09ialtpdGVtLm5hbWVdO1xuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBzYXZlTWVzc2FnZShpc0xvYWRpbmcpIHtcbiAgICAgIGlmIChpc0xvYWRpbmcpe1xuICAgICAgICB0aGlzLl9idG4udGV4dENvbnRlbnQgPSAnU2F2aW5nLi4uJztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9idG4udGV4dENvbnRlbnQgPSB0aGlzLl9vcmlnaW5hbE1zZztcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgdGhpcy5fc3VibWl0RnVuY3Rpb24gPSAoZSkgPT4ge1xuICAgICAgICB0aGlzLnNhdmVNZXNzYWdlKHRydWUpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXNzaW9uKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgfVxuXG4gICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9zdWJtaXRGdW5jdGlvbik7XG4gICAgfVxuXG5cbiAgICBjbG9zZSgpIHtcbiAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGFib3V0U2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fYWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0U2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGUgPSBudWxsO1xuICB9XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHRoaXMuX3Byb2ZpbGUgPSB7IFxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3Byb2ZpbGU7XG4gIH1cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IHNldHRpbmdzLmJhc2VVcmw7XG4gICAgdGhpcy5fYXV0aCA9IHNldHRpbmdzLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcbiAgICB0aGlzLl9oZWFkZXJzID0gc2V0dGluZ3MuaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKXtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aFxuICAgICAgfVxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpO1xuICAgICAgfSk7XG4gIH1cblxuICBnZXRDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhcbiAgICAgIH1cbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlUHJvZmlsZSh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aCxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0XG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcyk7XG4gICAgfSlcbiAgfVxuXG4gIGFkZENhcmQobmFtZSwgbGluaykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGgsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcyk7XG4gICAgfSlcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aFxuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcyk7XG4gICAgfSlcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aFxuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcyk7XG4gICAgfSlcbiAgfVxuXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aFxuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcyk7XG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZVByb2ZpbGVQaWMoYXZhdGFyKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiIDogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhclxuICAgICAgfSlcbiAgICB9KVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpO1xuICAgIH0pXG4gIH1cbn0iLCJleHBvcnQgY29uc3QgdXNlckluZm9Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2ZpbGUtcG9wdXAnKTtcbmV4cG9ydCBjb25zdCBuZXdQbGFjZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxhY2UtcG9wdXAnKTtcbmV4cG9ydCBjb25zdCBuZXdQaWNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2ZpbGUtcGljJyk7XG5leHBvcnQgY29uc3QgYWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcbmV4cG9ydCBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgcGljQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1idG4nKTtcbmV4cG9ydCBjb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zdWJtaXRcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc3VibWl0X2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCJcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlU2VsZWN0b3JzID0ge1xuICBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsXG4gIGFib3V0U2VsZWN0b3I6ICcucHJvZmlsZV9fYWJvdXQnXG59OyIsImltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgQXBpIGZyb20nLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmltcG9ydCB7IHBpY0J0biwgZWRpdEJ0biwgYWRkQnRuLCBzZXR0aW5ncywgbmV3UGljRm9ybSwgdXNlckluZm9Gb3JtLCBuZXdQbGFjZUZvcm0sIHByb2ZpbGVTZWxlY3RvcnMsIGF2YXRhciB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cblxubGV0IGNhcmRUb0RlbGV0ZSA9IG51bGw7XG5sZXQgbGlrZUNhcmQgPSBudWxsO1xubGV0IGNhcmRzID0gbnVsbDtcbmxldCBteUlkID0gbnVsbDtcblxuXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmRJbmZvLCBjYXJkU2VsZWN0b3IsIGNhcmRDbGljaywgZGVsZXRlQ2xpY2ssIGhhbmRsZUxpa2VDYXJkKSA9PiB7XG4gIHJldHVybiBuZXcgQ2FyZChjYXJkSW5mbywgY2FyZFNlbGVjdG9yLCBjYXJkQ2xpY2ssIGRlbGV0ZUNsaWNrLCBoYW5kbGVMaWtlQ2FyZCk7XG59XG5cbmNvbnN0IGhhbmRsZUxpa2VDYXJkID0gKGlkLCBpc0xpa2VkKSA9PiB7XG4gIGlmIChpc0xpa2VkKXtcbiAgICByZXR1cm4gYXBpLmFkZExpa2UoaWQpO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBhcGkucmVtb3ZlTGlrZShpZCk7XG4gIH0gIFxufVxuXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoaW1nKSA9PiB7XG4gIGNvbnN0IGNsaWNrZWRQaG90byA9IHsgbmFtZTogaW1nLmFsdCwgbGluazogaW1nLnNyYyB9XG4gIGltYWdlUG9wdXAub3BlbihjbGlja2VkUGhvdG8pO1xufVxuXG5cbmNvbnN0IG5ld1BpY0luZm8gPSB7XG4gIGZvcm1TZWxlY3RvcjogJyNwcm9maWxlLXBpYycsXG4gIGZvcm1TdWJtaXNzaW9uOiAoeyBwaWMgfSkgPT4ge1xuXG4gICAgYXBpLnVwZGF0ZVByb2ZpbGVQaWMocGljKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnUHJvZmlsZSBwaWMgdXBkYXRlZCBvbiB0aGUgc2VydmVyJyk7XG4gICAgICAgIG5ld1BpY1BvcHVwLmNsb3NlKCk7XG4gICAgICAgIGF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7cGljfSlgO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBuZXdQaWNQb3B1cC5zYXZlTWVzc2FnZShmYWxzZSk7XG4gICAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBwcm9maWxlRm9ybUluZm8gPSB7XG4gIGZvcm1TZWxlY3RvcjogJyNwcm9maWxlLXBvcHVwJyxcbiAgZm9ybVN1Ym1pc3Npb246ICh7IG5hbWUsIGFib3V0IH0pID0+IHtcblxuICAgIGFwaS51cGRhdGVQcm9maWxlKHVzZXJQcm9maWxlLmdldFVzZXJJbmZvKCkpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHVzZXJQcm9maWxlLnNldFVzZXJJbmZvKHsgbmFtZTogbmFtZSwgYWJvdXQ6IGFib3V0IH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhgVGhlIHByb2ZpbGUgaGFzIGJlZW4gdXBkYXRlZC5gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcHJvZmlsZVBvcHVwLnNhdmVNZXNzYWdlKGZhbHNlKTtcbiAgICAgICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgfVxufTtcblxuY29uc3QgcGxhY2VGb3JtSW5mbyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnI3BsYWNlLXBvcHVwJyxcbiAgZm9ybVN1Ym1pc3Npb246ICh7IHRpdGxlOiBuYW1lLCBsaW5rOiBsaW5rIH0pID0+IHtcblxuICAgIGFwaS5hZGRDYXJkKG5hbWUsIGxpbmspXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGFkZENhcmQgPSBjcmVhdGVDYXJkKHJlcywgJyNjYXJkVGVtcGxhdGUnLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUJpbkNsaWNrLCBoYW5kbGVMaWtlQ2FyZCk7XG4gICAgICAgIGNhcmRzLmFkZEl0ZW0oYWRkQ2FyZC5nZXRDYXJkKG15SWQpKTtcbiAgICAgICAgY29uc29sZS5sb2coJ05ldyBjYXJkIHdhcyBhZGRlZCcpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwbGFjZVBvcHVwLnNhdmVNZXNzYWdlKGZhbHNlKTtcbiAgICAgICAgcGxhY2VQb3B1cC5jbG9zZSgpO1xuICAgICAgfSk7XG4gIH1cbn07XG5cbmNvbnN0IGRlbGV0ZVBvcHVwSW5mbyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnI2NvbmZpcm0tZm9ybScsXG4gIGZvcm1TdWJtaXNzaW9uOiAoKSA9PiB7XG4gICAgXG4gICAgYXBpLmRlbGV0ZUNhcmQoY2FyZFRvRGVsZXRlLmlkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBkZWxldGVQb3B1cC5jbG9zZSgpO1xuICAgICAgICBjYXJkVG9EZWxldGUucmVtb3ZlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBDYXJkIGRlbGV0ZWQgZnJvbSBzZXJ2ZXJgKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgZGVsZXRlUG9wdXAuc2F2ZU1lc3NhZ2UoZmFsc2UpO1xuICAgICAgICBkZWxldGVQb3B1cC5jbG9zZSgpO1xuICAgICAgfSk7O1xuICB9XG59XG5cblxuY29uc3QgaGFuZGxlQmluQ2xpY2sgPSAoZSkgPT4ge1xuICBjYXJkVG9EZWxldGUgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICBkZWxldGVQb3B1cC5vcGVuKCk7XG59XG5cblxuY29uc3QgcHJvZmlsZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCB1c2VySW5mb0Zvcm0pO1xuY29uc3QgbmV3UGxhY2VWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgbmV3UGxhY2VGb3JtKTtcbmNvbnN0IG5ld1BpY1ZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBuZXdQaWNGb3JtKTtcbmNvbnN0IHVzZXJQcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVTZWxlY3RvcnMpO1xuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvZmlsZUZvcm1JbmZvLCAnI2VkaXRQcm9maWxlJyk7XG5jb25zdCBuZXdQaWNQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKG5ld1BpY0luZm8sICcjcHJvZmlsZVBpY1BvcHVwJylcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJyNwaG90bycpO1xuY29uc3QgcGxhY2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBsYWNlRm9ybUluZm8sICcjbmV3UGxhY2UnKTtcbmNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oZGVsZXRlUG9wdXBJbmZvLCcjY29uZmlybVBvcHVwJyk7XG5cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMFwiLFxuICBoZWFkZXJzOiB7XG4gICAgICBhdXRob3JpemF0aW9uOiBcIjJhMzJlODBkLWMyM2YtNGVkOS05Y2Y1LTY3MWM0MTdkMDcwMlwiLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG59KTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0Q2FyZHMoKV0pXG4gIC50aGVuKChbdXNlckRhdGEsIGluaXRpYWxDYXJkc10pID0+IHtcbiAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgbXlJZCA9IHVzZXJEYXRhLl9pZDtcbiAgICBhdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3VzZXJEYXRhLmF2YXRhcn0pYDtcblxuICAgIGNvbnN0IHNlY3Rpb25JbmZvID0ge1xuICAgICAgaXRlbXM6IGluaXRpYWxDYXJkcywgXG4gICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSwgJyNjYXJkVGVtcGxhdGUnLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUJpbkNsaWNrLCBoYW5kbGVMaWtlQ2FyZCk7XG4gICAgICAgIGNhcmRzLmFkZEl0ZW0obmV3Q2FyZC5nZXRDYXJkKG15SWQpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY2FyZHMgPSBuZXcgU2VjdGlvbihzZWN0aW9uSW5mbywgJy5jYXJkcycpO1xuICAgIGNhcmRzLnJlbmRlckVsZW1lbnRzKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cbnByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xucGxhY2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xubmV3UGljUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmRlbGV0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xubmV3UGxhY2VWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xubmV3UGljVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxucGljQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBuZXdQaWNWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIG5ld1BpY1BvcHVwLm9wZW4oKTtcbn0pO1xuXG5lZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwcm9maWxlUG9wdXAuc2V0SW5wdXRzKHVzZXJQcm9maWxlLmdldFVzZXJJbmZvKCkpO1xuICBwcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbmFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbmV3UGxhY2VWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHBsYWNlUG9wdXAub3BlbigpO1xufSk7Il0sIm5hbWVzIjpbIkNhcmQiLCJzZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUJpbkNsaWNrIiwiaGFuZGxlTGlrZUNhcmQiLCJuYW1lIiwibGluayIsImxpa2VzIiwiX2lkIiwib3duZXIiLCJ0aGlzIiwiX3RleHQiLCJfbGluayIsIl9saWtlcyIsImxlbmd0aCIsIl9jYXJkSWQiLCJfb3duZXJJZCIsIl9zZWxlY3RvciIsIl9lbGVtZW50IiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVCaW5DbGljayIsIl9oYW5kbGVMaWtlIiwiX2xpa2VCdG4iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsImltZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpc0xpa2VkIiwiX3VwZGF0ZVBhZ2VMaWtlcyIsInRoZW4iLCJyZXMiLCJfbGlrZUNvdW50IiwidGV4dENvbnRlbnQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJfcGhvdG8iLCJlIiwiX2VubGFyZ2VQaG90byIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfYmluSWNvbiIsInByZXBlbmQiLCJteUlkIiwiX2dldFRlbXBsYXRlIiwiX2dldEJpblRlbXBsYXRlIiwiX3NldEJpbkxpc3RlbmVyIiwiX2FkZEJpbiIsIl9waG90b05hbWUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJpZCIsInNyYyIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm0iLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm0iLCJfc3VibWl0Iiwic2V0QXR0cmlidXRlIiwiX2FsbElucHV0cyIsImV2ZXJ5IiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwicmVtb3ZlQXR0cmlidXRlIiwiX2Rpc2FibGVCdXR0b24iLCJlcnJvckVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwiX2NoZWNrVmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uIiwiZm9yRWFjaCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc2V0TGlzdGVuZXJzIiwiU2VjdGlvbiIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1nRWxlbWVudCIsIl9pbWdDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImZvcm1TdWJtaXNzaW9uIiwiX2hhbmRsZUZvcm1TdWJtaXNzaW9uIiwiX2lucHV0TGlzdCIsIl9idG4iLCJfb3JpZ2luYWxNc2ciLCJfZm9ybVZhbHVlcyIsInZhbHVlIiwidmFsdWVzT2JqIiwiaXNMb2FkaW5nIiwiX3N1Ym1pdEZ1bmN0aW9uIiwic2F2ZU1lc3NhZ2UiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiX25hbWUiLCJfYWJvdXQiLCJfcHJvZmlsZSIsImFib3V0IiwiQXBpIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2F1dGgiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsIl9oZWFkZXJzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsImZldGNoIiwiX2hhbmRsZVJlc3BvbnNlIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJhdmF0YXIiLCJ1c2VySW5mb0Zvcm0iLCJuZXdQbGFjZUZvcm0iLCJuZXdQaWNGb3JtIiwiYWRkQnRuIiwiZWRpdEJ0biIsInBpY0J0biIsImNhcmRUb0RlbGV0ZSIsImNhcmRzIiwiY3JlYXRlQ2FyZCIsImNhcmRJbmZvIiwiY2FyZFNlbGVjdG9yIiwiY2FyZENsaWNrIiwiZGVsZXRlQ2xpY2siLCJhcGkiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsImNsaWNrZWRQaG90byIsImltYWdlUG9wdXAiLCJvcGVuIiwibmV3UGljSW5mbyIsInBpYyIsInVwZGF0ZVByb2ZpbGVQaWMiLCJuZXdQaWNQb3B1cCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiZXJyIiwiZmluYWxseSIsInByb2ZpbGVGb3JtSW5mbyIsInVwZGF0ZVByb2ZpbGUiLCJ1c2VyUHJvZmlsZSIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJwcm9maWxlUG9wdXAiLCJwbGFjZUZvcm1JbmZvIiwidGl0bGUiLCJhZGRDYXJkIiwiYWRkSXRlbSIsImdldENhcmQiLCJwbGFjZVBvcHVwIiwiZGVsZXRlUG9wdXBJbmZvIiwiZGVsZXRlQ2FyZCIsImRlbGV0ZVBvcHVwIiwicGFyZW50RWxlbWVudCIsInByb2ZpbGVWYWxpZGF0b3IiLCJuZXdQbGFjZVZhbGlkYXRvciIsIm5ld1BpY1ZhbGlkYXRvciIsImFsbCIsImdldENhcmRzIiwidXNlckRhdGEiLCJpbml0aWFsQ2FyZHMiLCJzZWN0aW9uSW5mbyIsIm5ld0NhcmQiLCJyZW5kZXJFbGVtZW50cyIsInNldEV2ZW50TGlzdGVuZXJzIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsInNldElucHV0cyJdLCJzb3VyY2VSb290IjoiIn0=